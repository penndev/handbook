# 文件系统

> Linux 有一句名言一切皆文件，可见文件是操作系统的核心组成部分。 文件通常都是基于文件系统，文件系统又建立在分区之上。分区又直接与硬件关联，他们分别配合关联组成了我们使用的整个文件系统部分。


**-**

## 文件系统

- `mkfs.* /dev/sda` 制作文件系统


** 文件系统挂载 **
- `mount /dev/sda /home` 挂载做好文件系统的硬盘到目录  
- `umount /home`   取消挂载
- `vim /etc/fstab` 编辑fstab使文件系统开机就挂载。
- `mount -a`       进行fstab修改生效，可检查配置状态。
- `df -h` 展示所有的分区挂载情况

** 硬盘分区 ** 

- `lsblk` 查看设备与分区情况。
- `fdisk` 查看硬盘设备
- `parted` 分区操作

** 硬盘逻辑分区LVM ** 
> LVM（Logical Volume Manager，逻辑卷管理器）是一种用于在Linux系统中管理磁盘存储空间的软件工具。

1. `pvcreate /dev/sda /dev/sdb` 制作lvm物理卷

2. `vgcreate vg_home /dev/sda /dev/sdb` 制作lvm物理卷组

3. `vgdisplay` 查看卷组信息

3. `lvcreate,lvremove,lvextend` (创建删除拓展某个逻辑分区)

**-**

##### 示例 合并多个硬盘到一个逻辑分区

> 目标 将新增的三块硬盘`/dev/nvme0n1`,`/dev/nvme1n1`,`/dev/nvme2n1` 每块8T的硬盘 组合一块挂载到home

1. 初始化物理卷 

```bash
pvcreate /dev/nvme0n1 /dev/nvme1n1 /dev/nvme2n1
或
pvcreate /dev/nvme0n1 
pvcreate /dev/nvme1n1 
pvcreate /dev/nvme2n1
```

2. 创建新卷组

```bash
vgcreate vg_home /dev/nvme0n1 /dev/nvme1n1 /dev/nvme2n1
或
vgcreate vg_home /dev/nvme0n1 
vgextend vg_home /dev/nvme1n1 
vgextend vg_home /dev/nvme2n1
```

3. 创建逻辑卷

```bash
lvcreate -l 100%FREE -n lv_date vg_home

mkfs.xfs /dev/vg_home/lv_date
```

4. 挂载文件系统

```bash
mount /dev/vg_home/lv_date /home

vi /etc/fstab

/dev/vg_home/lv_date  /home  ext4  defaults  0  2
```


## 分区部分

> 目前分区也有两种 MBR GPT等分区表

## 硬盘部分

> 目前硬盘按照工作原理分为两大类 机械硬盘（电磁原理持久数据），固态硬盘（mos管持久数据）。