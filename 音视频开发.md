

## ffmpeg

### 简单转换单个文件格式

    > ffmpeg -i input.mp4 -vcodec libx264 -acodec aac output.mp4

- `-vcodec (-c:v)` 指定视频编码器(-c:v)简写
- `-acodec (-c:a)` 指定视频编码器(-c:a)简写


### 分割文件
```
ffmpeg -i input.mp4 -c copy -segment_time 15        -f segment output_%03d.mp4
ffmpeg -i input.mp4 -c copy -map 0 -segment_time 10 -f segment output_%03d.mp4
```

### 已经编译后的静态文件
https://johnvansickle.com/ffmpeg/

### 编译安装 ffmpeg

- 常见的编译参数

./configure \
--extra-cflags="-I/usr/local/include" \
--extra-ldflags="-L/usr/local/lib" \
--pkg-config-flags="--static" \
--enable-static \
--disable-shared \
--extra-libs=-lm \
--extra-libs=-lpthread \
--enable-gpl \
--enable-libfdk_aac \
--enable-libfreetype \
--enable-libmp3lame \
--enable-libopus \
--enable-libvpx \
--enable-libx264 \
--enable-libx265 \
--enable-nonfree

> 可能安装了依赖仍然提示 pkg-config 任然找不到则可以使用下面的命令来包含。
rpm -ql <package-name> | grep pkgconfig
export PKG_CONFIG_PATH=<path>/pkgconfig:$PKG_CONFIG_PATH